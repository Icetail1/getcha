<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>跨域截图iframe中的内容</title>
</head>
<body>
    <iframe id="videoFrame" src="https://b23.tv/iH6ZT9N" width="800" height="600"></iframe>
    <button onclick="requestScreenshot()">截图</button>
    <img id="screenshot" alt="Screenshot" style="display: none;">

    <script>
        var videoFrame = document.getElementById('videoFrame');
        var screenshotImg = document.getElementById('screenshot');

        function requestScreenshot() {
            videoFrame.contentWindow.postMessage({ type: 'captureScreenshot' }, '*');
        }

        window.addEventListener('message', function (event) {
            if (event.origin !== 'https://b23.tv/iH6ZT9N') {
                return;
            }

            if (event.data.type === 'screenshotCaptured') {
                screenshotImg.src = event.data.screenshot;
                screenshotImg.style.display = 'block';
            }
        });
    </script>
</body>
</html>
